[tox]
envlist =
    py35-{django20,django21,django22},
    py36-{django20,django21,django22,django30},
    py37-{django20,django21,django22,django30},
    py38-{django20,django21,django22,django30},
    py39-{django30,django32,django40},
    py310-{django32,django40,coverage},

[base]
deps =
    mock
    pytest
    pytest-django
setenv =
    DJANGO_SETTINGS_MODULE=sampleproject.settings
    PYTHONPATH={toxinidir}/sampleproject

[testenv]
deps =
    {[base]deps}
    django20:  django>=2.0,<2.1
    django21:  django>=2.1,<2.2
    django22:  django>=2.2,<2.3
    django30:  django>=3.0,<3.1
    django32:  django>=3.2,<3.3
    django40:  django>=4.0,<4.1
commands = py.test tests
setenv = {[base]setenv}

[testenv:py310-coverage]
deps =
    {[base]deps}
    django==3.0
    coverage
commands =
    coverage run --source easy_select2 -m py.test tests
    coverage report -m
setenv = {[base]setenv}
